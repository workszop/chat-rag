<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Workflow Comparison: Chat, RAG & Agentic AI</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --color-primary: #18181b;
            --color-secondary: #71717a;
            --color-accent-blue: #3b82f6;
            --color-accent-emerald: #10b981;
            --color-accent-violet: #8b5cf6;
            --color-bg: #ffffff;
            --color-bg-secondary: #fafafa;
            --color-border: #e4e4e7;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(to bottom, #ffffff 0%, #fafafa 100%);
            color: var(--color-primary);
            line-height: 1.6;
        }

        .step {
            display: none;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }

        .step.active {
            display: block;
            opacity: 1;
        }

        .output-panel-content::-webkit-scrollbar {
            width: 4px;
        }

        .output-panel-content::-webkit-scrollbar-track {
            background: transparent;
        }

        .output-panel-content::-webkit-scrollbar-thumb {
            background: #d4d4d8;
            border-radius: 10px;
        }

        .output-panel-content::-webkit-scrollbar-thumb:hover {
            background: #a1a1aa;
        }

        .workflow-card {
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .workflow-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.05), 0 8px 10px -6px rgb(0 0 0 / 0.05);
        }

        .badge {
            display: inline-flex;
            align-items: center;
            padding: 0.25rem 0.75rem;
            font-size: 0.75rem;
            font-weight: 600;
            border-radius: 9999px;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
    </style>
</head>
<body class="text-gray-800">
    <div class="container mx-auto p-4 md:p-8 max-w-7xl">
        <header class="text-center mb-16 pt-8">
            <div class="inline-flex items-center gap-2 mb-4">
                <span class="badge bg-zinc-100 text-zinc-700">AI Workflows</span>
            </div>
            <h1 class="text-4xl md:text-5xl font-bold text-zinc-900 mb-4 tracking-tight">
                Understanding AI Approaches
            </h1>
            <p class="text-lg text-zinc-600 max-w-2xl mx-auto">
                Compare how Chat, RAG, and Agentic AI workflows process complex tasks
            </p>
        </header>

        <div class="grid md:grid-cols-3 gap-8 mb-20">
            <div class="workflow-card bg-white rounded-2xl border border-zinc-200 overflow-hidden flex flex-col">
                <div class="workflow-header p-6 border-b border-zinc-100">
                    <div class="flex items-center gap-3 mb-2">
                        <div class="w-8 h-8 rounded-lg bg-blue-50 flex items-center justify-center">
                            <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"></path>
                            </svg>
                        </div>
                        <h2 class="text-xl font-semibold text-zinc-900">Chat AI</h2>
                    </div>
                    <p class="text-sm text-zinc-500">Non-Agentic Workflow</p>
                </div>
                <div class="workflow-body p-6 flex-grow">
                    <div class="flex flex-col gap-6">
                        <div class="diagram-container bg-zinc-50 rounded-xl p-4">
                            <img src="chat.png" alt="AI Workflow Diagram" class="w-full h-auto rounded-lg" />
                        </div>
                        <div class="explanation">
                            <p class="text-sm text-zinc-600 mb-4">Direct AI processing with web search in a single pass without task decomposition.</p>
                            <ul class="space-y-2 text-sm text-zinc-600">
                                <li class="flex items-start gap-2">
                                    <span class="text-zinc-400 mt-0.5">â€¢</span>
                                    <span>Can search the web for information</span>
                                </li>
                                <li class="flex items-start gap-2">
                                    <span class="text-zinc-400 mt-0.5">â€¢</span>
                                    <span>Single processing step</span>
                                </li>
                                <li class="flex items-start gap-2">
                                    <span class="text-zinc-400 mt-0.5">â€¢</span>
                                    <span>No personalized data access</span>
                                </li>
                                <li class="flex items-start gap-2">
                                    <span class="text-zinc-400 mt-0.5">â€¢</span>
                                    <span>No self-correction capability</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div class="workflow-card bg-white rounded-2xl border border-zinc-200 overflow-hidden flex flex-col">
                <div class="workflow-header p-6 border-b border-zinc-100">
                    <div class="flex items-center gap-3 mb-2">
                        <div class="w-8 h-8 rounded-lg bg-emerald-50 flex items-center justify-center">
                            <svg class="w-5 h-5 text-emerald-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4"></path>
                            </svg>
                        </div>
                        <h2 class="text-xl font-semibold text-zinc-900">RAG AI</h2>
                    </div>
                    <p class="text-sm text-zinc-500">Retrieval-Augmented Generation</p>
                </div>
                <div class="workflow-body p-6 flex-grow">
                    <div class="flex flex-col gap-6">
                        <div class="diagram-container bg-zinc-50 rounded-xl p-4">
                            <img src="rag.png" alt="RAG Workflow Diagram" class="w-full h-auto rounded-lg" />
                        </div>
                        <div class="explanation">
                            <p class="text-sm text-zinc-600 mb-4">Combines AI with information retrieval for contextually-grounded responses.</p>
                            <ul class="space-y-2 text-sm text-zinc-600">
                                <li class="flex items-start gap-2">
                                    <span class="text-zinc-400 mt-0.5">â€¢</span>
                                    <span>Searches knowledge base for relevant docs</span>
                                </li>
                                <li class="flex items-start gap-2">
                                    <span class="text-zinc-400 mt-0.5">â€¢</span>
                                    <span>Augments query with retrieved context</span>
                                </li>
                                <li class="flex items-start gap-2">
                                    <span class="text-zinc-400 mt-0.5">â€¢</span>
                                    <span>Generates grounded responses</span>
                                </li>
                                <li class="flex items-start gap-2">
                                    <span class="text-zinc-400 mt-0.5">â€¢</span>
                                    <span>Reduced hallucinations with sources</span>
                                </li>
                                <li class="flex items-start gap-2">
                                    <span class="text-zinc-400 mt-0.5">â€¢</span>
                                    <span>Updatable knowledge base</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div class="workflow-card bg-white rounded-2xl border border-zinc-200 overflow-hidden flex flex-col">
                <div class="workflow-header p-6 border-b border-zinc-100">
                    <div class="flex items-center gap-3 mb-2">
                        <div class="w-8 h-8 rounded-lg bg-violet-50 flex items-center justify-center">
                            <svg class="w-5 h-5 text-violet-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                            </svg>
                        </div>
                        <h2 class="text-xl font-semibold text-zinc-900">Agentic AI</h2>
                    </div>
                    <p class="text-sm text-zinc-500">Autonomous Multi-Step Workflow</p>
                </div>
                <div class="workflow-body p-6 flex-grow">
                     <div class="flex flex-col gap-6">
                        <div class="diagram-container bg-zinc-50 rounded-xl p-4">
                            <img src="agent.png" alt="Agentic Workflow Diagram" class="w-full h-auto rounded-lg" />
                        </div>
                        <div class="explanation">
                            <p class="text-sm text-zinc-600 mb-4">Autonomous AI that plans, executes, and iterates through complex tasks.</p>
                            <ul class="space-y-2 text-sm text-zinc-600">
                                <li class="flex items-start gap-2">
                                    <span class="text-zinc-400 mt-0.5">â€¢</span>
                                    <span>Strategic planning and task breakdown</span>
                                </li>
                                <li class="flex items-start gap-2">
                                    <span class="text-zinc-400 mt-0.5">â€¢</span>
                                    <span>External tool and API access</span>
                                </li>
                                <li class="flex items-start gap-2">
                                    <span class="text-zinc-400 mt-0.5">â€¢</span>
                                    <span>Evaluates intermediate results</span>
                                </li>
                                <li class="flex items-start gap-2">
                                    <span class="text-zinc-400 mt-0.5">â€¢</span>
                                    <span>Iterative self-improvement loops</span>
                                </li>
                                <li class="flex items-start gap-2">
                                    <span class="text-zinc-400 mt-0.5">â€¢</span>
                                    <span>Context-aware, personalized results</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="interactive-area bg-white border border-zinc-200 p-8 md:p-10 rounded-2xl">
            <div class="mb-8">
                <h2 class="text-2xl font-bold text-zinc-900 mb-2">Interactive Demo</h2>
                <p class="text-zinc-600">See how each workflow processes a complex task in real-time</p>
            </div>

            <div class="input-section space-y-4 mb-10">
                <div class="flex flex-col sm:flex-row gap-3">
                    <select id="example-select" class="px-4 py-3 border border-zinc-300 rounded-xl focus:ring-2 focus:ring-zinc-900 focus:border-zinc-900 outline-none transition-all text-sm bg-white">
                        <option value="0">Example 1: Music & Concerts</option>
                        <option value="1">Example 2: Restaurant Reservation</option>
                        <option value="2">Example 3: Budget Analysis</option>
                    </select>
                    <button id="process-btn" class="bg-zinc-900 hover:bg-zinc-800 text-white font-medium py-3 px-8 rounded-xl transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-zinc-900 focus:ring-offset-2 whitespace-nowrap">
                        Run Demo
                    </button>
                </div>
                <input type="text" id="query-input" class="w-full px-4 py-3 border border-zinc-300 rounded-xl focus:ring-2 focus:ring-zinc-900 focus:border-zinc-900 outline-none transition-all text-sm" placeholder="e.g., Check my music stats and find concerts..." value="Check what artists I listened to most this month, find if any of them have concerts coming to Warsaw, and add the dates to my calendar." readonly>
            </div>

            <div class="output-section grid md:grid-cols-3 gap-6">
                <div class="output-panel bg-zinc-50 border border-zinc-200 rounded-xl overflow-hidden">
                    <div class="output-title border-b border-zinc-200 px-4 py-3">
                        <div class="flex items-center gap-2">
                            <div class="w-2 h-2 rounded-full bg-blue-500"></div>
                            <span class="text-sm font-medium text-zinc-900">Chat AI</span>
                        </div>
                    </div>
                    <div id="ai-steps" class="p-4 space-y-3 output-panel-content h-80 overflow-y-auto">
                    </div>
                </div>

                <div class="output-panel bg-zinc-50 border border-zinc-200 rounded-xl overflow-hidden">
                    <div class="output-title border-b border-zinc-200 px-4 py-3">
                        <div class="flex items-center gap-2">
                            <div class="w-2 h-2 rounded-full bg-emerald-500"></div>
                            <span class="text-sm font-medium text-zinc-900">RAG AI</span>
                        </div>
                    </div>
                    <div id="rag-steps" class="p-4 space-y-3 output-panel-content h-80 overflow-y-auto">
                    </div>
                </div>

                <div class="output-panel bg-zinc-50 border border-zinc-200 rounded-xl overflow-hidden">
                    <div class="output-title border-b border-zinc-200 px-4 py-3">
                        <div class="flex items-center gap-2">
                            <div class="w-2 h-2 rounded-full bg-violet-500"></div>
                            <span class="text-sm font-medium text-zinc-900">Agentic AI</span>
                        </div>
                    </div>
                    <div id="agentic-steps" class="p-4 space-y-3 output-panel-content h-80 overflow-y-auto">
                    </div>
                </div>
            </div>
        </div>

        <footer class="text-center mt-20 pt-12 pb-8 border-t border-zinc-200">
            <p class="text-sm text-zinc-500">Built to demonstrate AI workflow approaches</p>
        </footer>
    </div>

    <script>
        const queryInput = document.getElementById('query-input');
        const processBtn = document.getElementById('process-btn');
        const exampleSelect = document.getElementById('example-select');
        const aiStepsContainer = document.getElementById('ai-steps');
        const ragStepsContainer = document.getElementById('rag-steps');
        const agenticStepsContainer = document.getElementById('agentic-steps');

        // Token pricing (per 1K tokens) - simulating GPT-4 pricing
        const PRICING = {
            input: 0.03,   // $0.03 per 1K input tokens
            output: 0.06   // $0.06 per 1K output tokens
        };

        // Multiple example scenarios
        const examples = [
            {
                query: "Check what artists I listened to most this month, find if any of them have concerts coming to Warsaw, and add the dates to my calendar.",
                ai: [
                    { delay: 500, queryUpdate: true, message: "1. Receiving query...", inputTokens: 35, outputTokens: 0 },
                    { delay: 1000, message: "2. Performing web search...", details: "Searching for: 'concerts Warsaw 2024', 'Spotify top artists', 'calendar integration'", inputTokens: 35, outputTokens: 15 },
                    { delay: 1200, message: "3. Processing search results...", details: "Found general information about concert venues in Warsaw and calendar apps, but no personalized data.", inputTokens: 50, outputTokens: 22 },
                    { delay: 1500, message: "4. Generating response:", details: "Based on web search: Popular concert venues in Warsaw include Torwar Hall and Progresja. However, I cannot access your personal Spotify listening data or automatically check which specific artists you listen to. You'll need to: 1) Check your Spotify Wrapped or stats page manually, 2) Search for those specific artists on Songkick or Bandsintown, 3) Manually add events to your calendar. Web search provides general info but can't complete this personalized, multi-step task automatically.", inputTokens: 72, outputTokens: 95 }
                ],
                rag: [
                    { delay: 400, queryUpdate: true, message: "1. Receiving query...", inputTokens: 35, outputTokens: 0 },
                    { delay: 800, message: "2. Retrieving relevant documents:", details: "Searching knowledge base for 'concert listings', 'Warsaw events', 'artist schedules'...", inputTokens: 35, outputTokens: 22 },
                    { delay: 900, message: "3. Found relevant documents:", detailsList: ["Doc #203: Upcoming concerts in Warsaw (Nov-Dec 2024)", "Doc #156: Popular artist tour schedules", "Doc #89: Guide to concert ticket booking and calendar integration"], inputTokens: 0, outputTokens: 35 },
                    { delay: 1000, message: "4. Augmenting query with context:", details: "Adding retrieved concert data and calendar integration info to enhance LLM prompt with factual information.", inputTokens: 420, outputTokens: 28 },
                    { delay: 1100, message: "5. Generating grounded response:", details: "Using LLM with retrieved context to provide specific concert information...", inputTokens: 420, outputTokens: 0 },
                    { delay: 1200, message: "6. Final response:", details: "\"Based on our concert database (updated Nov 2024), several popular artists have upcoming shows in Warsaw. However, I cannot access your personal music listening data to determine your specific favorite artists. To get your listening stats, you'll need to connect to your streaming service API. Common venues in Warsaw include: Torwar Hall, Progresja, and COS Torwar. For calendar integration, I can provide iCal format links once specific concerts are identified.\"", inputTokens: 420, outputTokens: 95 }
                ],
                agentic: [
                    { delay: 300, queryUpdate: true, message: "1. Receiving query...", inputTokens: 35, outputTokens: 0 },
                    { delay: 700, message: "2. Planning approach:", detailsList: ["Step 1: Connect to Spotify API to get user's top artists this month.", "Step 2: For each top artist, query concert databases (Songkick, Bandsintown).", "Step 3: Filter for concerts in Warsaw with upcoming dates.", "Step 4: Use Calendar API to add confirmed events.", "Step 5: Verify all additions and provide summary."], inputTokens: 35, outputTokens: 85 },
                    { delay: 1000, message: "3. Executing: Calling Spotify API...", details: "Fetching user's top 10 most-played artists for November 2024...", inputTokens: 120, outputTokens: 18 },
                    { delay: 800, message: "4. Reflecting on music data:", details: "Successfully retrieved: Arctic Monkeys, Tame Impala, The Strokes, Radiohead, and 6 others. Proceeding to concert search.", inputTokens: 138, outputTokens: 32 },
                    { delay: 1000, message: "5. Executing: Querying concert databases...", details: "Searching Songkick and Bandsintown APIs for Warsaw concerts by these artists...", inputTokens: 170, outputTokens: 20 },
                    { delay: 900, message: "6. Reflecting on concert results:", details: "Found 3 matching concerts: Arctic Monkeys (Dec 15, Torwar Hall), Tame Impala (Jan 8, COS Torwar), The Strokes (Feb 3, Progresja).", inputTokens: 190, outputTokens: 42 },
                    { delay: 1000, message: "7. Executing: Adding to calendar...", details: "Using Google Calendar API to create events with venue details, ticket links, and reminders...", inputTokens: 232, outputTokens: 24 },
                    { delay: 800, message: "8. Reflecting on calendar sync:", details: "All 3 events successfully added to calendar. Events include: address, start time, ticket purchase links.", inputTokens: 256, outputTokens: 28 },
                    { delay: 1200, message: "9. Generating final response:", details: "\"âœ… Task complete! Found 3 concerts by your top artists in Warsaw: Arctic Monkeys (Dec 15, Torwar Hall), Tame Impala (Jan 8, COS Torwar), The Strokes (Feb 3, Progresja). All events have been added to your calendar with venue info and ticket links. You'll receive reminders 1 week and 1 day before each concert.\"", inputTokens: 284, outputTokens: 82 }
                ]
            },
            {
                query: "Find the best restaurants near me that are open now, check their ratings and reviews, and make a reservation for 2 people at 7 PM tonight.",
                ai: [
                    { delay: 500, queryUpdate: true, message: "1. Receiving query...", inputTokens: 32, outputTokens: 0 },
                    { delay: 1000, message: "2. Performing web search...", details: "Searching for: 'best restaurants near me', 'restaurant ratings', 'open now'", inputTokens: 32, outputTokens: 14 },
                    { delay: 1200, message: "3. Processing search results...", details: "Found general restaurant review sites and reservation platforms, but cannot determine user's location or real-time availability.", inputTokens: 46, outputTokens: 24 },
                    { delay: 1500, message: "4. Generating response:", details: "Web search shows popular restaurant review sites like Yelp and OpenTable exist, but I cannot: 1) Access your current location, 2) Check which restaurants are actually open right now, 3) See real-time availability for 7 PM tonight, 4) Make a reservation on your behalf. You'll need to manually visit Google Maps or OpenTable, search based on your location, filter for availability, and complete the reservation yourself.", inputTokens: 70, outputTokens: 88 }
                ],
                rag: [
                    { delay: 400, queryUpdate: true, message: "1. Receiving query...", inputTokens: 32, outputTokens: 0 },
                    { delay: 800, message: "2. Retrieving relevant documents:", details: "Searching knowledge base for 'restaurant reviews', 'reservation systems', 'dining guides'...", inputTokens: 32, outputTokens: 20 },
                    { delay: 900, message: "3. Found relevant documents:", detailsList: ["Doc #412: Top-rated restaurants by cuisine and location", "Doc #287: Restaurant reservation best practices", "Doc #156: User review aggregation (2024)"], inputTokens: 0, outputTokens: 32 },
                    { delay: 1000, message: "4. Augmenting query with context:", details: "Adding restaurant database info and reservation protocols to enhance response quality.", inputTokens: 385, outputTokens: 22 },
                    { delay: 1100, message: "5. Generating grounded response:", details: "Using LLM with retrieved restaurant data to provide recommendations...", inputTokens: 385, outputTokens: 0 },
                    { delay: 1200, message: "6. Final response:", details: "\"Based on our restaurant database, here are highly-rated options (Note: I cannot verify real-time availability or your exact location): For Italian: Trattoria Luna (4.8â˜…, typically open until 10 PM), For Asian: Sakura Fusion (4.7â˜…, open until 11 PM), For American: The Grill House (4.6â˜…, open until 10 PM). To make a reservation, I recommend using OpenTable or calling directly. Most restaurants can accommodate a party of 2 with a few hours notice.\"", inputTokens: 385, outputTokens: 115 }
                ],
                agentic: [
                    { delay: 300, queryUpdate: true, message: "1. Receiving query...", inputTokens: 32, outputTokens: 0 },
                    { delay: 700, message: "2. Planning approach:", detailsList: ["Step 1: Get user's current location via Geolocation API.", "Step 2: Query restaurant APIs (Google Places, Yelp) for nearby options.", "Step 3: Filter for restaurants open now with availability.", "Step 4: Rank by ratings and review sentiment.", "Step 5: Make reservation via OpenTable/Resy API.", "Step 6: Send confirmation to user."], inputTokens: 32, outputTokens: 95 },
                    { delay: 1000, message: "3. Executing: Getting location...", details: "Accessing Geolocation API... Location: 40.7580Â° N, 73.9855Â° W (Midtown Manhattan, NYC)", inputTokens: 127, outputTokens: 28 },
                    { delay: 800, message: "4. Reflecting on location data:", details: "Location confirmed. Proceeding to search restaurants within 1 mile radius.", inputTokens: 155, outputTokens: 20 },
                    { delay: 1000, message: "5. Executing: Querying restaurant APIs...", details: "Found 47 restaurants currently open. Filtering for 7 PM availability...", inputTokens: 175, outputTokens: 22 },
                    { delay: 900, message: "6. Reflecting on restaurant results:", details: "12 restaurants available with 4.5+ ratings. Top 3: Le Bernardin (4.9â˜…, seafood), Carbone (4.8â˜…, Italian), Momofuku Ko (4.7â˜…, Asian fusion).", inputTokens: 197, outputTokens: 52 },
                    { delay: 1000, message: "7. Executing: Making reservation...", details: "User preference: high-rated, diverse options. Attempting reservation at Carbone via Resy API for 2 guests at 7:00 PM...", inputTokens: 249, outputTokens: 35 },
                    { delay: 800, message: "8. Reflecting on reservation status:", details: "âœ… Reservation confirmed! Carbone, 181 Thompson St, NYC. Party of 2 at 7:00 PM tonight. Confirmation #RC-8472-2024.", inputTokens: 284, outputTokens: 42 },
                    { delay: 1200, message: "9. Generating final response:", details: "\"âœ… Reservation complete! You're booked at Carbone (4.8â˜…, Italian) tonight at 7:00 PM for 2 people. Address: 181 Thompson St, New York, NY. Confirmation #RC-8472-2024. The restaurant is known for its classic Italian-American cuisine. A confirmation email has been sent. Enjoy your dinner!\"", inputTokens: 326, outputTokens: 78 }
                ]
            },
            {
                query: "Analyze my spending patterns from last month, identify areas where I'm overspending, and create a budget plan with specific recommendations.",
                ai: [
                    { delay: 500, queryUpdate: true, message: "1. Receiving query...", inputTokens: 28, outputTokens: 0 },
                    { delay: 1000, message: "2. Performing web search...", details: "Searching for: 'budgeting best practices', '50/30/20 rule', 'common overspending areas'", inputTokens: 28, outputTokens: 16 },
                    { delay: 1200, message: "3. Processing search results...", details: "Found generic budgeting advice and framework recommendations, but no access to user's personal financial data.", inputTokens: 44, outputTokens: 22 },
                    { delay: 1500, message: "4. Generating response:", details: "Based on web search of budgeting best practices: The 50/30/20 rule suggests 50% needs, 30% wants, 20% savings. Common overspending areas include dining out, subscriptions, and impulse purchases. However, I cannot: 1) Access your actual bank transactions, 2) Analyze your specific spending patterns, 3) Identify YOUR overspending categories, 4) Create a personalized budget. You'll need to manually export your transactions and use budgeting software like Mint or YNAB for personalized analysis.", inputTokens: 66, outputTokens: 110 }
                ],
                rag: [
                    { delay: 400, queryUpdate: true, message: "1. Receiving query...", inputTokens: 28, outputTokens: 0 },
                    { delay: 800, message: "2. Retrieving relevant documents:", details: "Searching knowledge base for 'budgeting strategies', 'spending analysis', 'financial planning'...", inputTokens: 28, outputTokens: 20 },
                    { delay: 900, message: "3. Found relevant documents:", detailsList: ["Doc #823: Personal budgeting frameworks and methods", "Doc #567: Common spending categories and averages", "Doc #234: Financial planning best practices (2024)"], inputTokens: 0, outputTokens: 35 },
                    { delay: 1000, message: "4. Augmenting query with context:", details: "Adding budgeting frameworks, spending benchmarks, and planning templates to enhance recommendations.", inputTokens: 445, outputTokens: 22 },
                    { delay: 1100, message: "5. Generating grounded response:", details: "Using LLM with financial planning knowledge to provide budget recommendations...", inputTokens: 445, outputTokens: 0 },
                    { delay: 1200, message: "6. Final response:", details: "\"While I cannot access your actual spending data, I can provide a framework: 1) Categorize expenses (housing, food, transport, entertainment, etc.), 2) Compare to benchmarks (housing should be <30% of income, food ~10-15%), 3) Use the 50/30/20 rule as a baseline, 4) Track discretionary spending carefully. Common overspending areas: dining out (aim for <5% of income), subscriptions (audit and cancel unused), impulse purchases (implement 24-hour rule). I recommend using budgeting software that connects to your accounts for real-time tracking.\"", inputTokens: 445, outputTokens: 128 }
                ],
                agentic: [
                    { delay: 300, queryUpdate: true, message: "1. Receiving query...", inputTokens: 28, outputTokens: 0 },
                    { delay: 700, message: "2. Planning approach:", detailsList: ["Step 1: Connect to user's bank/credit card via Plaid API.", "Step 2: Pull all transactions from last month.", "Step 3: Categorize and analyze spending patterns.", "Step 4: Compare to income and identify overspending categories.", "Step 5: Generate personalized budget recommendations.", "Step 6: Create actionable budget plan with specific limits."], inputTokens: 28, outputTokens: 92 },
                    { delay: 1000, message: "3. Executing: Connecting to financial accounts...", details: "Authenticating via Plaid API... Connected to Chase Checking, Amex Credit Card. Pulling transactions...", inputTokens: 120, outputTokens: 28 },
                    { delay: 800, message: "4. Reflecting on transaction data:", details: "Retrieved 87 transactions from last month. Total spending: $4,235. Monthly income: $6,500. Savings rate: 35%. Proceeding to categorization.", inputTokens: 148, outputTokens: 42 },
                    { delay: 1000, message: "5. Executing: Analyzing spending patterns...", details: "Categorized expenses: Dining $892 (21%), Groceries $485 (11%), Transport $320 (8%), Entertainment $650 (15%), Shopping $720 (17%), Utilities $380 (9%), Other $788 (19%).", inputTokens: 190, outputTokens: 68 },
                    { delay: 900, message: "6. Reflecting on spending analysis:", details: "âš ï¸ Overspending identified: Dining out is 3x recommended amount (should be <7% of income). Entertainment also high at 15%. Shopping shows impulse pattern (12 small transactions under $100).", inputTokens: 258, outputTokens: 58 },
                    { delay: 1000, message: "7. Executing: Generating budget recommendations...", details: "Creating personalized plan based on income ($6,500), current spending patterns, and financial goals...", inputTokens: 316, outputTokens: 25 },
                    { delay: 800, message: "8. Reflecting on budget plan:", details: "Recommended budget: Dining $455 (7%), Groceries $520 (8%), Transport $325 (5%), Entertainment $390 (6%), Shopping $390 (6%), Utilities $380 (6%), Savings $1,625 (25%), Other $2,415 (37%). This reduces discretionary spending by $1,050/month.", inputTokens: 341, outputTokens: 82 },
                    { delay: 1200, message: "9. Generating final response:", details: "\"âœ… Analysis complete! Last month you spent $4,235 with overspending in: ðŸ½ï¸ Dining ($892 - reduce to $455), ðŸŽ¬ Entertainment ($650 - reduce to $390), ðŸ›ï¸ Shopping ($720 - reduce to $390). Your personalized budget plan can save $1,050/month, increasing savings from $2,265 to $3,315 (51% savings rate). Key actions: 1) Meal prep 3x/week, 2) Cancel 2 unused subscriptions, 3) Implement 48-hour rule for purchases >$50. Track progress with Mint or YNAB.\"", inputTokens: 423, outputTokens: 145 }
                ]
            }
        ];

        function calculateCost(inputTokens, outputTokens) {
            const inputCost = (inputTokens / 1000) * PRICING.input;
            const outputCost = (outputTokens / 1000) * PRICING.output;
            return (inputCost + outputCost).toFixed(4);
        }

        function simulateWorkflow(type, stepContents, container) {
            container.innerHTML = '';
            let cumulativeDelay = 0;
            let totalInputTokens = 0;
            let totalOutputTokens = 0;
            const userQuery = queryInput.value || "No query entered.";

            stepContents.forEach((stepContent, index) => {
                setTimeout(() => {
                    const stepDiv = document.createElement('div');
                    stepDiv.className = `step step-${index + 1} p-4 rounded-lg transition-all duration-500 ease-in-out transform opacity-0 translate-y-2 bg-white border`;
                    const borderColor = type === 'ai' ? 'border-blue-100' : type === 'rag' ? 'border-emerald-100' : 'border-violet-100';
                    stepDiv.classList.add(borderColor);

                    let htmlContent = `<p class="font-medium text-sm text-zinc-900">${stepContent.message}</p>`;

                    if (stepContent.queryUpdate) {
                         htmlContent += `<p class="text-xs text-zinc-500 mt-2"><em>Query: "${userQuery}"</em></p>`;
                    }
                    if (stepContent.details) {
                        htmlContent += `<p class="text-xs text-zinc-600 mt-2 leading-relaxed">${stepContent.details}</p>`;
                    }
                    if (stepContent.detailsList) {
                        htmlContent += `<ol class="list-decimal list-inside text-xs text-zinc-600 mt-2 space-y-1 leading-relaxed">`;
                        stepContent.detailsList.forEach(item => {
                            htmlContent += `<li>${item}</li>`;
                        });
                        htmlContent += `</ol>`;
                    }

                    // Add token count if present
                    if (stepContent.inputTokens !== undefined || stepContent.outputTokens !== undefined) {
                        const inTokens = stepContent.inputTokens || 0;
                        const outTokens = stepContent.outputTokens || 0;
                        totalInputTokens += inTokens;
                        totalOutputTokens += outTokens;

                        if (inTokens > 0 || outTokens > 0) {
                            htmlContent += `<div class="text-xs text-zinc-400 mt-2 font-mono">ðŸ“Š Tokens: ${inTokens} in / ${outTokens} out</div>`;
                        }
                    }

                    stepDiv.innerHTML = htmlContent;
                    container.appendChild(stepDiv);

                    setTimeout(() => {
                        stepDiv.classList.add('active');
                        stepDiv.classList.remove('opacity-0', 'translate-y-2');
                        stepDiv.classList.add('opacity-100', 'translate-y-0');
                        container.scrollTop = container.scrollHeight;
                    }, 50);

                }, cumulativeDelay);
                cumulativeDelay += stepContent.delay;
            });

            // Add summary step with total tokens and cost
            setTimeout(() => {
                const summaryDiv = document.createElement('div');
                summaryDiv.className = `step summary-step p-4 rounded-lg transition-all duration-500 ease-in-out transform opacity-0 translate-y-2 bg-gradient-to-br border-2`;
                const borderColor = type === 'ai' ? 'border-blue-200 from-blue-50 to-white' :
                                  type === 'rag' ? 'border-emerald-200 from-emerald-50 to-white' :
                                  'border-violet-200 from-violet-50 to-white';
                summaryDiv.classList.add(...borderColor.split(' '));

                const totalTokens = totalInputTokens + totalOutputTokens;
                const totalCost = calculateCost(totalInputTokens, totalOutputTokens);

                summaryDiv.innerHTML = `
                    <p class="font-bold text-sm text-zinc-900 mb-2">ðŸ’° Cost Summary</p>
                    <div class="space-y-1 text-xs text-zinc-700">
                        <div class="flex justify-between">
                            <span>Input tokens:</span>
                            <span class="font-mono font-medium">${totalInputTokens.toLocaleString()}</span>
                        </div>
                        <div class="flex justify-between">
                            <span>Output tokens:</span>
                            <span class="font-mono font-medium">${totalOutputTokens.toLocaleString()}</span>
                        </div>
                        <div class="flex justify-between font-semibold pt-1 border-t border-zinc-200">
                            <span>Total tokens:</span>
                            <span class="font-mono">${totalTokens.toLocaleString()}</span>
                        </div>
                        <div class="flex justify-between font-bold pt-2 text-sm border-t border-zinc-300">
                            <span>Estimated cost:</span>
                            <span class="font-mono text-green-600">$${totalCost}</span>
                        </div>
                    </div>
                `;

                container.appendChild(summaryDiv);

                setTimeout(() => {
                    summaryDiv.classList.add('active');
                    summaryDiv.classList.remove('opacity-0', 'translate-y-2');
                    summaryDiv.classList.add('opacity-100', 'translate-y-0');
                    container.scrollTop = container.scrollHeight;
                }, 50);
            }, cumulativeDelay);
        }

        // Update query input when example is changed
        exampleSelect.addEventListener('change', function() {
            const selectedIndex = parseInt(exampleSelect.value);
            const selectedExample = examples[selectedIndex];
            queryInput.value = selectedExample.query;
        });

        processBtn.addEventListener('click', function() {
            const query = queryInput.value;
            if (!query.trim()) {
                queryInput.focus();
                return;
            }

            const selectedIndex = parseInt(exampleSelect.value);
            const selectedExample = examples[selectedIndex];

            processBtn.disabled = true;
            processBtn.textContent = 'Processing...';
            processBtn.classList.add('opacity-75', 'cursor-not-allowed');

            simulateWorkflow('ai', selectedExample.ai, aiStepsContainer);
            simulateWorkflow('rag', selectedExample.rag, ragStepsContainer);
            simulateWorkflow('agentic', selectedExample.agentic, agenticStepsContainer);

            const maxAiDelay = selectedExample.ai.reduce((sum, step) => sum + step.delay, 0);
            const maxRagDelay = selectedExample.rag.reduce((sum, step) => sum + step.delay, 0);
            const maxAgenticDelay = selectedExample.agentic.reduce((sum, step) => sum + step.delay, 0);
            const maxTotalDelay = Math.max(maxAiDelay, maxRagDelay, maxAgenticDelay) + 1500; // Add extra time for summary

            setTimeout(() => {
                processBtn.disabled = false;
                processBtn.textContent = 'Run Demo';
                processBtn.classList.remove('opacity-75', 'cursor-not-allowed');
            }, maxTotalDelay + 100);
        });

        window.addEventListener('load', function() {
            aiStepsContainer.innerHTML = '<div class="flex items-center justify-center h-full"><p class="text-sm text-zinc-400">Click "Run Demo" to start</p></div>';
            ragStepsContainer.innerHTML = '<div class="flex items-center justify-center h-full"><p class="text-sm text-zinc-400">Click "Run Demo" to start</p></div>';
            agenticStepsContainer.innerHTML = '<div class="flex items-center justify-center h-full"><p class="text-sm text-zinc-400">Click "Run Demo" to start</p></div>';
        });
    </script>
</body>
</html>
